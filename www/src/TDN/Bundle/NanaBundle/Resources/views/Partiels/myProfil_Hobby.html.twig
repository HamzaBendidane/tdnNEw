<form id="form_hobby" name="form_hobby" class="popin-hobby contenu-popin" data-prototype="{{ form_widget(form_hobby.galerieHobby.vars.prototype)|e }}" action="{{ path('Nana_ajouterHobby', {'action': 'modifier'}) }}" method="post" {{ form_enctype(form_hobby) }} style="width:600px; height:350px;">
	<div class="form-table">
		<div class="forme-ligne">
			{{ form_label(form_hobby.domaine) }}
		    {{ form_widget(form_hobby.domaine|e, {'attr': {'class': 'champ-profil champ-bloc'}}) }}
		</div>
		<div class="form-ligne">
			{{ form_label(form_hobby.precisions) }}
		    {{ form_widget(form_hobby.precisions|e, {'attr': {'class': 'champ-profil champ-bloc'}}) }}
		</div>
	</div>
	<div class="galerie-images">
	</div>
	{{ form_row(form_hobby._token) }}
	<div class="bouton-fleche-blanche">
		<button class="bouton">Enregistrer</button>
	</div>
</form>
<script type="text/javascript">

	  $(document).ready(function() {
	      var prototype = $("#form_hobby").attr('data-prototype');
	      var hobbyImageHolder = $("#form_hobby .galerie-images");
	      var classeForm = "";

	      // Remplace '__name__' dans le HTML du prototype par un nombre bas√© sur
	      // la longueur de la collection courante
	      var newForm = prototype.replace(/__name__/g, hobbyImageHolder.children().length);

	      // Affiche le formulaire dans la page dans un li, avant le lien "ajouter un tag"
	      var $newFormLi = $('<div class="'+classeForm+'"></div>').append(newForm);
	      //
	      hobbyImageHolder.prepend($newFormLi);
	});

</script>